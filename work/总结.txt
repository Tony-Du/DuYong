
咪咕整体数据层次：
ods层
int层
rpt层
app层



CPA一期    hive+
	(1)目的：为适应咪咕客户端产品的发展，目前已开发CPA管理系统以实时展现各客户端新增用户情况和相关用户质量指标。需要在该系统上增加咪咕视频，咪咕影院、咪咕直播等客户端产品相关数据统计和对接
	(2)指标：激活、留存，
	(3)统计周期
	(4)数据量:
	(5)统计维度：
	(6)实现方法：以FTP形式提供数字类报表
	(7)困难处理：

CPA二期     hive+kettle+oracle
    (1)目的：该子系统应完成处理数据上报子系统（科升），上报的Event格式的数据，输出成特定模式的计算结果给数据展现子系统（CPA）
可以根据产品、版本、渠道、事件、时间范围、时间粒度查询返回该事件的发生次数以及分布在每个参数对应参数值上的情况。
便于公司高管、各业务部门及时了解客户端推广情况和效果
    (2)指标：各类时间，及各类参数 eventname
    (3)统计周期：天，近7天，近30天
    (4)数据量:
    (5)统计维度：
    (6)实现方法：
    (7)困难处理：小时，日，周，月。本来想实现任意时间跨度的数据统计，导入到HBase，使用java编码从HBase中取数据，然后展现，响应时间在1-2秒左右
				 小时，天，近7天，近30天
				 sqoop导入到oracle，并实现分区;最终使用kettle实现导入
				 参数处理前1000名，剩下的归为一类

CPA-H5      hive+shell
	(1)目的：
为适应咪咕视讯产品多元化的推广，目前已开发CPA管理系统以实时展现各推广渠道的推广效果，以作为推广结算依据。主要效果指标包括新增用户情况和相关用户质量指标。目前需要在该系统上增加H5页面推广相关数据统计和对接。			
统计分析H5页面的门户访问数据
便于公司高管、各业务部门及时了解客户端推广情况和效果
	(2)指标：pv,uv,页面访问时长，下载按钮点击次数
	(3)统计周期：小时，天 
	(4)数据量:
	(5)统计维度：产品，渠道，页面，操作系统
	(6)实现方法：按照实际需求取数据，然后把处理好的数据放到NAS上，并开启ftp协议(shell脚本实现)，供使用
	(7)困难处理：
	
	
陕西省自动赠费需求  hive+shell
	(1)目的：优化营销资源的管理，取消手动赠费，实现自动赠费
	(2)指标：播放流量，使用时长，登录频次，信息费等
	(3)统计周期：月
	(4)数据量：236,721,849 (2亿)
	(5)统计维度：手机号码，陕西省城市，订购产品
	(6)实现方法：
	   从不同的数据源拿数据，进行union all，然后分组统计；
	   再把数据从hdfs上拿下来(merge)，按照一定规则(比如一个文件200M等等)分割，放到NAS上，并开启ftp协议，供陕西省分公司使用,该过程需要使用shell脚本
	(7)困难处理: 使用 left join 是数据量成倍放大，应该使用 union all



	
流量日报迁移   hive+kettle+oracle
	(1)目的：反馈运营数据，提高内容运营精确度
	(2)指标：咪咕直播流量，咪咕影院流量，咪咕视频流量等等
	(3)统计周期：日
	(4)数据量: 23,919,326 约等于 24,000,000条记录 (2千万)
	(5)统计维度：无
	(6)实现方法：
	   根据接口标准(不同的字段的取值代表不同类型的流量，比如直播流量)，从数据源抽取数据，然后导入到oracle(通过kettle实现)，供后续展现
	(7)困难处理：模型变更。（字段变记录）

主题报表收入类  hive

CDMP信息费收入报表迁移需求:
信息费收入产品日报表
信息费收入商务日报表
信息费收入分省月报表

CDMP合作伙伴留存用户报s表需求:
	合作伙伴留存用户月报
背景：
合作伙伴需要了解每月新增发展用户的留存情况，以便与渠道进行结算。为减少人工处理各家合作伙伴业务留存用户提取的工单统计压力，根据合作伙伴留存数据需求开发相关报表，定制报表格式及数据口径

	在CDMP主题报表中开发合作伙伴留存用户月报，报表在合作伙伴报表层级下进行展现，报表的数据统计由大数据平台完成

	(1)目的：
    (2)指标：
    (3)统计周期
    (4)数据量:
    (5)统计维度：
    (6)实现方法：
    (7)困难处理：

	
数据量多大？
统计周期？
有哪些指标？
有哪些维度？
怎么做的？（所用到的语言、技术等）
遇到哪些困难？怎么解决的？



